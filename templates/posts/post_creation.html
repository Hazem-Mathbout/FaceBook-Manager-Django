<!-- templates/posts/post_creation.html -->

{% extends 'base.html' %}
{% load static %}
{% load form_tags %}


{% if form.errors %}
    {% for field in form %}
        {% for error in field.errors %}
            <div class="alert alert-danger">
                <strong>{{ error|escape }}</strong>
            </div>
        {% endfor %}
    {% endfor %}

    {% for error in form.non_field_errors %}
        <div class="alert alert-danger">
            <strong>{{ error|escape }}</strong>
        </div>
    {% endfor %}

{% endif %}

{% block title %}Create Post{% endblock %}

{% block content %}
<div class="card mt-4">
    <div class="card-header bg-primary text-white">
        <h2>Create Post</h2>
    </div>
    <div class="card-body">
        {% include 'partials/form.html' with form=form button_text="Publish Post" save_post_button_text="Save Post"%}
    </div>
</div>
{% endblock %}


{% block extra_js %}
<script>
    $(document).ready(function() {
        // Capture the user's timezone
        console.log("**************************")
        document.getElementById('user-timezone').value = Intl.DateTimeFormat().resolvedOptions().timeZone;
    });
</script>
{% endblock %}
